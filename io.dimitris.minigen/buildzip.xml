<project default="main">
	<target name="main">
		
		<echo>Building Fat Jar</echo>

		<jar destfile="eu.kolovos.minigen.jar">
			<manifest>
				<attribute name="Main-Class" value="eu.kolovos.minigen.Application"/>
			</manifest>
			<fileset dir="bin"/>
			<fileset dir="../org.eclipse.epsilon.eol.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.egl.engine/bin"/>
			<fileset dir="../org.eclipse.epsilon.commons/bin"/>
			<fileset file="../org.eclipse.epsilon.antlr/antlr-runtime-3.1b1.jar"/>
			<zipfileset src="jintellitype-1.0.jar"/>
			<zipfileset src="winlaf-0.5.1.jar"/>
			<zipfileset src="velocity-1.6.2-dep.jar"/>
			<zipfileset src="freemarker.jar"/>
			<zipfileset src="commons-logging-1.1.jar"/>
			<zipfileset src="JXGrabKey.jar"/>			
		</jar>
		
		<echo>Creating zip</echo>
		
		<zip destfile="minigen.zip">
			<fileset dir="." includes="eu.kolovos.minigen.jar"/>
			<fileset dir="." includes="JIntellitype.dll"/>
			<fileset dir="." includes="libJXGrabKey.so"/>
			<fileset dir="." includes="winlaf.dll"/>
			<zipfileset dir="resources" prefix="resources"/>
			<zipfileset dir="templates" prefix="templates"/>
		</zip>
		
		<echo>Done</echo>
		
	</target>
</project>